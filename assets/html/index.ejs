<!DOCTYPE html>
<html>
    <head>
        <title>교회 오빠</title>
        <!-- Bootstrap -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js"></script>
        <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
        <link rel="stylesheet" type="text/css" href="../css/index.css">
        <link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
        <!-- 구글 웹 폰트 -->
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Black+Han+Sans&display=swap" rel="stylesheet">
    <style>
            #user-table {margin: 0 auto; text-align: center;}
            #user-table {border-collapse: collapse;}
            #user-table > thead > tr { background-color: #333; color:#fff; }
            #user-table > thead > tr > th { padding: 8px; width: 150px; }
            #user-table > tbody > tr > td { border-bottom: 1px solid gray; padding:8px; }
    </style>
    </head>   
    <!-- Coded with love by Mutiullah Samim-->
    <body>
        <div class="imgDiv">
            <img class="titleIMG" src="../../images/titleIMG.jpg" alt="Title Image">
            <div class="d-flex justify-content-center align-items-center">
                <div class="titleText">
                    <h1 class="font">세상 모든 교회 정보, 교회오빠에서</h1> 
                        <form role="form" autocomplete="on" id="form-buscar" method="get" action="search">
                            <div class="form-group">
                                <div class="input-group">
                                    <input id="searchbar" class="form-control" type="text" name="name" placeholder="Search..." required/>
                                    <span class="input-group-btn">
                                        <button class="btn btn-success" type="submit">
                                            <i class="glyphicon glyphicon-search" aria-hidden="true"></i> Search
                                        </button>
                                    </span>
                                </div>
                            </div>
                        </form>
                        <table id="user-table">
                            <tbody>
                                <tr>
                                    <td>서울시 강동구</td>
                                    <td>새지음교회</td>
                                    <td>박지민</td>
                                </tr>
                                <tr>
                                    <td>서울시 송파구</td>
                                    <td>낙원교회</td>
                                    <td>오승일</td>
                                </tr>
                                <tr>
                                    <td>경기도 하남시</td>
                                    <td>그냥교회</td>
                                    <td>김테스트</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <script>
                        $(document).ready(function() {
                            $("#user-table > tbody > tr").hide();

                            $("#searchbar").keyup(function(e) {
                                var k = $("#searchbar").val();
                                $("#user-table > tbody > tr").hide();
                                if(k == "") {
                                    return false;
                                }
                                var temp = $("#user-table > tbody > tr > td:nth-child(5n+2):contains('" + k + "')");
                                console.log("temp", k)
                                $(temp).parent().show();
                            })
                        })
                    //     $('#autoComplete').autocomplete({
                    //         source : function(request, response) { //source: 입력시 보일 목록
                    //             $.ajax({
                    //                 url : "/ajax/autocomplte"   
                    //                 , type : "POST"
                    //                 , dataType: "JSON"
                    //                 , data : {value: request.term}	// 검색 키워드
                    //                 , success : function(data){ 	// 성공
                    //                     response(
                    //                         $.map(data.resultList, function(item) {
                    //                             return {
                    //                                 label : item.SEARCH_WORD    	// 목록에 표시되는 값
                    //                                 , value : item.SEARCH_WORD 		// 선택 시 input창에 표시되는 값
                    //                                 , idx : item.SEQ // index
                    //                             };
                    //                         })
                    //                     );    //response
                    //                 }
                    //                 ,error : function(){ //실패
                    //                     alert("오류가 발생했습니다.");
                    //                 }
                    //             });
                    //         }
                    //             ,focus : function(event, ui) { // 방향키로 자동완성단어 선택 가능하게 만들어줌	
                    //                 return false;
                    //             },
                    //             minLength: 1,// 최소 글자수
                    //             delay: 100	//autocomplete 딜레이 시간(ms),
                    //             , select : function(evt, ui) { 
                    //             // 아이템 선택시 실행 ui.item 이 선택된 항목을 나타내는 객체, lavel/value/idx를 가짐
                    //                 console.log(ui.item.label);
                    //                 console.log(ui.item.idx);
                    //         }
                    // });
                    </script>
                    </div>
                </div>
            </div>
        </div>

    </body>
</html>